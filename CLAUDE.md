# Project Context (auto-generated by agent)

## Stack
Detected: js
## Build & Test (JS/TS)
```bash
npm install && npm run build  # build
npm test                      # tests
npx tsc --noEmit              # type check
```

## Task
Instruction: ## System Prompt (STRICT RULES)

You are a senior frontend developer. You MUST follow these technology constraints:

**Required stack (non-negotiable):**
- TypeScript (strict mode, no `any` types)
- Next.js 14+ (App Router only, NO Pages Router)
- TailwindCSS (for ALL styling, NO inline styles, NO CSS modules, NO styled-components)

**Allowed additions (only from npm):**
- react-markdown + remark-gfm for markdown rendering
- react-syntax-highlighter OR highlight.js for code blocks
- lucide-react OR heroicons for icons
- uuid for ID generation
- clsx or tailwind-merge for conditional classes

**Forbidden:**
- No CSS-in-JS libraries (styled-components, emotion)
- No UI component libraries (MUI, Chakra, Ant Design, shadcn/ui)
- No state management libraries (Redux, Zustand, Jotai) — use React state/context only
- No backend/API frameworks — mock all AI responses on the client side

## Task

Build a **ChatGPT-like web interface** — a fully functional chat application UI.

### Required Features (MUST implement all):

**1. Chat Area (main content)**
- Message list with scroll, auto-scroll to latest message
- User messages — right-aligned, colored bubble (e.g. blue/green)
- Assistant messages — left-aligned, different colored bubble (e.g. gray/dark)
- Each assistant message supports Markdown rendering (bold, italic, lists, headers)
- Code blocks inside messages with syntax highlighting and a "Copy" button
- Typing indicator (animated dots) while "assistant is thinking"
- Empty state when no messages: centered text like "How can I help you today?"

**2. Input Area (bottom)**
- Multiline textarea that grows with content (max 6 lines, then scroll)
- Send button (icon) that is disabled when textarea is empty
- Send on Enter, new line on Shift+Enter
- Clear textarea after sending

**3. Sidebar (left panel)**
- List of conversations with titles
- "New Chat" button at the top with a + icon
- Active conversation is highlighted
- Click on conversation loads its messages
- Each conversation shows a preview of the last message (truncated)
- Delete conversation button (trash icon) on hover
- Sidebar is collapsible on mobile (hamburger menu)

**4. Header**
- App title/logo
- Theme toggle button (dark/light mode)
- Hamburger menu button on mobile to toggle sidebar

**5. Dark/Light Theme**
- Toggle between dark and light themes
- Persist theme preference in localStorage
- Smooth CSS transition on theme switch
- All components must look correct in both themes

**6. Responsive Design**
- Desktop: sidebar visible, chat takes remaining width
- Tablet: sidebar collapsible overlay
- Mobile (<768px): sidebar hidden by default, full-screen chat, hamburger menu

**7. Mock AI Responses**
- After user sends a message, simulate a delay (1-3 seconds)
- Return a mock markdown response that includes:
  - Regular text paragraphs
  - A code block (e.g. TypeScript/Python example)
  - A bulleted list
- Show typing indicator during the delay
- Store all messages in React state with conversation context

### File Structure (expected):
```
src/
  app/
    layout.tsx          — root layout with theme provider
    page.tsx            — main page composing all components
    globals.css         — tailwind directives + theme variables
  components/
    ChatArea.tsx        — message list + auto-scroll
    MessageBubble.tsx   — single message with markdown/code
    InputArea.tsx       — textarea + send button
    Sidebar.tsx         — conversation list
    Header.tsx          — top bar with theme toggle
    TypingIndicator.tsx — animated dots
    CodeBlock.tsx       — code with syntax highlighting + copy
    ThemeProvider.tsx   — dark/light theme context
  lib/
    mockResponses.ts    — mock AI response generator
    types.ts            — TypeScript interfaces (Message, Conversation)
  hooks/
    useConversations.ts — conversation state management hook
    useTheme.ts         — theme toggle hook with localStorage
```

### Quality Requirements:
- No TypeScript errors (strict mode)
- `npm run build` must succeed with zero errors
- `npm run lint` should pass (ESLint)
- All components must be properly typed (no `any`)
- Use semantic HTML elements
- Keyboard accessible (tab navigation, Enter to send)
- Performance: no unnecessary re-renders, use React.memo where appropriate

### Implementation Notes:
- The project is already initialized with `create-next-app` (TypeScript + TailwindCSS + App Router)
- You only need to create/modify files inside `src/`
- Do NOT modify `package.json` unless adding allowed npm packages
- Do NOT modify `tailwind.config.ts` unless adding dark mode configuration
- Do NOT modify `next.config.ts` or `tsconfig.json`
Focus files: src/app/layout.tsx, src/app/page.tsx, src/app/globals.css, src/components/ChatArea.tsx, src/components/MessageBubble.tsx, src/components/InputArea.tsx, src/components/Sidebar.tsx, src/components/Header.tsx, src/components/TypingIndicator.tsx, src/components/CodeBlock.tsx, src/components/ThemeProvider.tsx, src/lib/mockResponses.ts, src/lib/types.ts, src/hooks/useConversations.ts, src/hooks/useTheme.ts

## Rules
- Every new file MUST be imported by at least one existing file
- Do NOT break existing tests or build
- Keep changes minimal and focused
- Run build and tests before finishing
